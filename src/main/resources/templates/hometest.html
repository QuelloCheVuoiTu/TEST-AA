<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><!DOCTYPE html>
      <html lang="it">
      <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Test Homepage</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .debug-info {
      background: #ffebee;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
      border-left: 4px solid #f44336;
    }
    .event-card {
      border: 1px solid #ddd;
      padding: 15px;
      margin: 10px 0;
      border-radius: 5px;
      background: #f9f9f9;
    }
    .event-title {
      font-size: 18px;
      font-weight: bold;
      color: #333;
    }
    .event-details {
      font-size: 14px;
      color: #666;
      margin: 5px 0;
    }
    .no-events {
      background: #fff3cd;
      padding: 20px;
      text-align: center;
      border-radius: 5px;
      border: 1px solid #ffeaa7;
    }
  </style>
</head>
<body>
<div class="container">
  <h1>Test Homepage - Debug</h1>

  <div class="debug-info">
    <h3>Informazioni Debug:</h3>
    <p><strong>Numero Eventi Promossi:</strong> <span th:text="${promotedEvents.size()}">0</span></p>
    <p><strong>Numero Video Promossi:</strong> <span th:text="${promotedVideos.size()}">0</span></p>
    <p><strong>Numero Piste:</strong> <span th:text="${tracks.size()}">0</span></p>
  </div>

  <h2>Eventi Promossi (Raw Data):</h2>
  <div th:if="${promotedEvents.empty}">
    <div class="no-events">
      <h3>❌ Nessun Evento Trovato</h3>
      <p>La lista promotedEvents è vuota</p>
    </div>
  </div>

  <div th:each="enrichedEvent : ${promotedEvents}">
    <div class="event-card">
      <div class="event-title" th:text="${enrichedEvent.event.titolo}">Titolo Evento</div>
      <div class="event-details">
        <strong>ID Evento:</strong> <span th:text="${enrichedEvent.event.id}">N/A</span> |
        <strong>ID Pista:</strong> <span th:text="${enrichedEvent.event.idPista}">N/A</span> |
        <strong>Nome Pista:</strong> <span th:text="${enrichedEvent.trackName}">N/A</span>
      </div>
      <div class="event-details">
        <strong>Data:</strong> <span th:text="${enrichedEvent.event.data}">N/A</span> |
        <strong>Organizzatore:</strong> <span th:text="${enrichedEvent.event.idOrganizzatore}">N/A</span>
      </div>
      <div class="event-details" th:text="${enrichedEvent.event.descrizione}">Descrizione</div>
      <div class="event-details">
        <strong>Foto:</strong> <span th:text="${enrichedEvent.event.foto}">N/A</span> |
        <strong>Link:</strong> <span th:text="${enrichedEvent.event.linkEsterno}">N/A</span>
      </div>
    </div>
  </div>

  <h2>Video Promossi:</h2>
  <div th:if="${promotedVideos.empty}">
    <p>Nessun video promosso</p>
  </div>
  <ul th:each="video : ${promotedVideos}">
    <li th:text="${video}">Video URL</li>
  </ul>

  <h2>Prime 5 Piste (per test):</h2>
  <div th:each="track : ${tracks}">
    <div th:if="${trackStat.index < 5}">
      <strong th:text="${track.nome}">Nome Pista</strong>
      (ID: <span th:text="${track.id}">0</span> |
      Regione: <span th:text="${track.regione}">N/A</span>)
    </div>
  </div>
</div>

<script>
  console.log("=== DEBUG CLIENT-SIDE ===");
  console.log("promotedEvents:", [[${promotedEvents}]]);
  console.log("promotedVideos:", [[${promotedVideos}]]);
  console.log("tracks count:", [[${tracks.size()}]]);
</script>
</body>
</html></title>
</head>
<body>

</body>
</html>